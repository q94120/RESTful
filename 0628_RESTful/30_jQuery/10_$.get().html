<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <script src="../_js/jquery-3.6.0.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <style>
        #divApple img {
            width: 200px;
            height: 200px;
            object-fit: cover;
        }
        div { display: flex;}
    </style>
</head>

<body class="container">

    <h4>線上API測試平台 (點選網頁下方的 GET SINGLE USER)</h4>
    <p><a href='https://reqres.in/'>https://reqres.in/</a></p>
    <h4>jQuery.get()</h4>
    <p><a href='https://api.jquery.com/jquery.get/'>https://api.jquery.com/jquery.get/</a></p>
    <hr>
    <button id="btnGetData">取得資料</button>
    <!-- <div id="divResult">
        顯示資料
        <input type="email"> <br><br>
        <img>
    </div> -->

    <button id="btnGetDataMul">取得多人資料</button>
    <div id="divResultMul">
        顯示多人資料
    </div>
    <hr>
    <!-- <div class="row" id="divApple">
        
    </div> -->

    <script>
        
        // 10. 按鈕點選後，取得使用者資料 (測試)
        btnGetData.onclick = function () {
            let url = 'https://reqres.in/api/users/2'
            $.get(url, function(pikapika){
                // console.log(pikapika);
                console.log(pikapika.data.email);
                console.log(pikapika.data.avatar);

                $('#divResult>input').val(pikapika.data.email)
                $('#divResult>img').prop('src',pikapika.data.avatar)
            })
            // 20. $.get(網址, function(){})
            //     觀察資料的格式 https://reqres.in/api/users/2
            //     並試著從中讀取email和大頭照顯示到網頁上
        }

        btnGetDataMul.onclick = function () {
            let url = 'https://reqres.in/api/users?page=2';
            $.get(url, function(pikaka){
                // for(i = 0; i < 6; i++){
                //     // console.log(pikaka.data[i].email);
                    // $('.picture').prop('src',pikaka.data[i].avatar)
                    // $('#divResultMul>figcaption').append(pikaka.data[i].email)
                // }
                $('#divResultMul').empty();
                pikaka.data.forEach((index)=>{
                    // console.log(index);
                    // $('#divResultMul').append('<img>')
                    
                    // $('#divResultMul').append('<div class="userInfo"></div>')
                    $('#divResultMul').append(`<img src=${index.avatar}>`)
                    $('#divResultMul').append(`<figcaption>${index.email}</figcaption>`)
                });
            })
        }

        // btnGetDataMul.onclick = function () {
        //     let url = 'https://reqres.in/api/users?page=2';
        //     $.get(url, function(pikaka){
        //         $('#divResultMul').empty();
        //         $.each(pikaka.data,function(index, item){
        //             console.log(item);
        //             let newElement = $('<div>');
        //                 newElement.addClass('col-3');
        //                 newElement.append(`<img src=${item.avatar}>`);
        //                 newElement.append(`<p>${item.email}</p>`);
        //                 newElement.append(`<p>${item.first_name}</p>`);
        //                 $('#divApple').append(newElement)
        //         });
        //     })
        // }
    </script>
</body>

</html>